{'dependent': 'kerasrl', 'repo': '/dickreuter/raspberry_environment_analysis', 'language': 'Python', 'description': 'Analysis temperature and other environment factors such as noise and sends email alerts', 'readme': "Raspberry Environment Analysis\n==============================\n\nThis project is designed to monitor temperature and humidity level with\na raspberry pi, send out alerts if certain thresholds are exceeded.\nIn addition it allows to the use of prediction models to forecast\nfuture levels of temperature.\n\nUsage:\n------\n\nRun:\n\n-  Install Anaconda, I would also recommend to install pycharm.\n- ``pip install -r requirements.txt``\n- Run ``app.py``\n\n\nPackages\n~~~~~~~~\n\nRaspberry environment analysis consists of 3 packages:\n\n- ``sensor_reader``: This package is installed on the raspberry pi and reads temperature from the sensors once an hour, and stores them into a database\n- ``temp_analyzer``: This process checks if a threshold has been exceeded, if so an email alert it sent out.\n- ``prediction_models``: Train and predict future temperature\n\n\nSending out email alerts\n~~~~~~~~~~~~~~~~~~~~~~~~\n\nUsing ``app.py email LIMIT [options]`` an email is sent out with a summary\nof today's and yesterday's temperature, if the last temperature is above the\ngiven threshold.\n\n.. figure:: doc/temperature_chart.png\n\nDH11 temperature sensor\n~~~~~~~~~~~~~~~~~~~~~~~\n\nUse a DH11 temperature sensor to connect to your raspberry pi:\n\n.. figure:: doc/sensor.png\n\n\nTime series prediction\x0bPreparing the data for a neural network\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\n.. code:: python\n\n    def create_dataset(self, dataset, look_back=3, look_ahead=3):\n            dataset = dataset.reshape(-1)\n            shape = dataset.shape[:-1] + (dataset.shape[-1] - look_back + 1, look_back)\n            strides = dataset.strides + (dataset.strides[-1],)\n            X = np.lib.stride_tricks.as_strided(dataset, shape=shape, strides=strides)[0:-look_ahead]\n            Y = dataset[look_back + look_ahead - 1:]\n\nThe following procedures need to be performed on the data:\n\n- Normailzation\n- Splitting into training, validation and test set\n- Early stopping of training of the neural network\n\n.. figure:: doc/predict_data.png\n\nWe can then create a model to predict the temperture. For example as follows:\n\n.. code:: python\n\n     # create and fit the LSTM network\n            self.model = Sequential()\n            self.model.add(LSTM(4, input_shape=(1, look_back)))\n            self.model.add(Dense(1))\n            self.model.compile(loss='mean_squared_error', optimizer='adam')\n            self.model.fit(trainX, trainY,\n                           epochs=100,\n                           batch_size=batchsize, verbose=1,\n                           callbacks=[self.tbCallBack,\n                                      self.early_stop])\n\n\nUsing RNN to predict time series and a  10 hours lookback, we get the following results:\n\n.. figure:: doc/prediction.png\n\nCan you do better?\n\nHow to integrate your code on Github\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\nTo contribute do the following:\n\n- Get Pycharm and build the virtual python environment. Use can do: ``pip install -r requirements.txt``\n- Clone your fork to your local machine. You can do this directly from pycharm: VCS --> check out from version control --> git\n- Add as remote the original repository where you created the fork from and call it upstream (the connection to your fork should be called origin). This can be done with vcs --> git --> remotes\n- Create a new branch: click on master at the bottom right, and then click on 'new branch'\n- Make your edits.\n- Ensure all tests pass. Under file --> settings --> python integrated tools switch to pytest (see screenshot). |image1| You can then just right click on the tests folder and run all tests. All tests need to pass. Make sure to add your own tests by simply naming the funtion test\\_... \\\n- Make sure all the tests are passing. Best run pytest as described above (in pycharm just right click on the tests folder and run it). If a test fails, you can debug the test, by right clicking on it and put breakpoints, or even open a console at the breakpoint: https://stackoverflow.com/questions/19329601/interactive-shell-debugging-with-pycharm\n- Commit your changes (CTRL+K}\n- Push your changes to your origin (your fork) (CTRL+SHIFT+K)\n- To bring your branch up to date with upstream master, if it has moved on: rebase onto upstream master: click on your branch name at the bottom right of pycharm, then click on upstream/master, then rebase onto. You may need to resolve soe conflicts. Once this is done, make sure to always force-push (ctrl+shift+k), (not just push). This can be done by selecting the dropdown next to push and choose force-push (important: don't push and merge a rebased branch with your remote)\n- Create a pull request on your github.com to merge your branch with the upstream master.\n- When your pull request is approved, it will be merged into the upstream/master.\n", 'contents': "['.gitignore', 'app.py', 'doc', 'prediction_models', 'readme.rst', 'requirements.txt', 'sensor_reader', 'temp_analyzer']", 'stars': 1, 'watchers': 1, 'forks': 1, 'deprepos': 0, 'deppacks': 0}